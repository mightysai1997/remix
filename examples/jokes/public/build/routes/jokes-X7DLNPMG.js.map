{
  "version": 3,
  "sources": ["browser-route-module:/Users/kentcdodds/code/remix/examples/jokes/app/routes/jokes.tsx?browser", "../../../app/routes/jokes.tsx"],
  "sourcesContent": ["export { CatchBoundary, default, links } from \"/Users/kentcdodds/code/remix/examples/jokes/app/routes/jokes.tsx\";", "import type { LoaderFunction, LinksFunction } from \"remix\";\nimport { Form } from \"remix\";\nimport { Outlet, useCatch, useLoaderData, Link, json } from \"remix\";\nimport { db } from \"~/utils/db.server\";\nimport type { User } from \"@prisma/client\";\nimport { getUser } from \"~/utils/session.server\";\nimport stylesUrl from \"../styles/jokes.css\";\n\ninterface LoaderData {\n  user: User | null;\n  jokeListItems: Array<{ id: string; name: string }>;\n}\n\nexport let loader: LoaderFunction = async ({ request }) => {\n  let jokeListItems = await db.joke.findMany({\n    take: 5,\n    select: { id: true, name: true },\n  });\n  let user = await getUser(request);\n\n  let data: LoaderData = {\n    jokeListItems,\n    user,\n  };\n\n  return json(data);\n};\n\nexport let links: LinksFunction = () => {\n  return [{ rel: \"stylesheet\", href: stylesUrl }];\n};\n\nfunction Footer() {\n  return (\n    <footer className=\"jokes-footer\">\n      <div className=\"container\">\n        <Link reloadDocument to=\"/jokes.rss\">\n          RSS\n        </Link>\n      </div>\n    </footer>\n  );\n}\n\nfunction Header({ user }: { user: User | null }) {\n  return (\n    <header className=\"jokes-header\">\n      <div className=\"container\">\n        <h1 className=\"home-link\">\n          <Link to=\"/\" title=\"Remix Jokes\" aria-label=\"Remix Jokes\">\n            <span className=\"logo\">\uD83E\uDD2A</span>\n            <span className=\"logo-medium\">J\uD83E\uDD2AKES</span>\n          </Link>\n        </h1>\n        {user ? (\n          <div className=\"user-info\">\n            <span>{`Hi ${user.username}`}</span>\n            <Form action=\"/logout\" method=\"post\">\n              <button type=\"submit\" className=\"button\">\n                Logout\n              </button>\n            </Form>\n          </div>\n        ) : (\n          <Link to=\"/login\">Login</Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nfunction Layout({ children }: React.PropsWithChildren<{}>) {\n  let data = useLoaderData<LoaderData>();\n\n  return (\n    <div className=\"jokes-layout\">\n      <Header user={data.user} />\n      <main className=\"jokes-main\">\n        <div className=\"container\">{children}</div>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default function JokesScreen() {\n  let data = useLoaderData<LoaderData>();\n\n  return (\n    <Layout>\n      <div className=\"jokes-list\">\n        {data.jokeListItems.length ? (\n          <>\n            <Link to=\".\">Get a random joke</Link>\n            <p>Here are a few more jokes to check out:</p>\n            <ul>\n              {data.jokeListItems.map(({ id, name }) => (\n                <li key={id}>\n                  <Link to={id}>{name}</Link>\n                </li>\n              ))}\n            </ul>\n            <Link to=\"new\" className=\"button\">\n              Add your own\n            </Link>\n          </>\n        ) : null}\n      </div>\n      <div className=\"jokes-outlet\">\n        <Outlet />\n      </div>\n    </Layout>\n  );\n}\n\nexport function CatchBoundary() {\n  let caught = useCatch();\n\n  switch (caught.status) {\n    case 401:\n    case 404:\n      return (\n        <Layout>\n          <h1>\n            {caught.status}: {caught.statusText}\n          </h1>\n        </Layout>\n      );\n\n    default:\n      throw new Error(\n        `Unexpected caught response with status: ${caught.status}`\n      );\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;;;ACAA;AAGA,gBAAmB;AAEnB,qBAAwB;;;;;;AAuBjB,IAAI,QAAuB,MAAM;AACtC,SAAO,CAAC,EAAE,KAAK,cAAc,MAAM;AAAA;AAGrC,kBAAkB;AAChB,SACE,oCAAC,UAAD;AAAA,IAAQ,WAAU;AAAA,KAChB,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAM,gBAAc;AAAA,IAAC,IAAG;AAAA,KAAa;AAAA;AAQ7C,gBAAgB,EAAE,QAA+B;AAC/C,SACE,oCAAC,UAAD;AAAA,IAAQ,WAAU;AAAA,KAChB,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAI,WAAU;AAAA,KACZ,oCAAC,MAAD;AAAA,IAAM,IAAG;AAAA,IAAI,OAAM;AAAA,IAAc,cAAW;AAAA,KAC1C,oCAAC,QAAD;AAAA,IAAM,WAAU;AAAA,KAAO,cACvB,oCAAC,QAAD;AAAA,IAAM,WAAU;AAAA,KAAc,oBAGjC,OACC,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,QAAD,MAAO,MAAM,KAAK,aAClB,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,IAAU,QAAO;AAAA,KAC5B,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,IAAS,WAAU;AAAA,KAAS,cAM7C,oCAAC,MAAD;AAAA,IAAM,IAAG;AAAA,KAAS;AAAA;AAO5B,gBAAgB,EAAE,YAAyC;AACzD,MAAI,OAAO;AAEX,SACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,QAAD;AAAA,IAAQ,MAAM,KAAK;AAAA,MACnB,oCAAC,QAAD;AAAA,IAAM,WAAU;AAAA,KACd,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KAAa,YAE9B,oCAAC,QAAD;AAAA;AAKS,uBAAuB;AACpC,MAAI,OAAO;AAEX,SACE,oCAAC,QAAD,MACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACZ,KAAK,cAAc,SAClB,0DACE,oCAAC,MAAD;AAAA,IAAM,IAAG;AAAA,KAAI,sBACb,oCAAC,KAAD,MAAG,4CACH,oCAAC,MAAD,MACG,KAAK,cAAc,IAAI,CAAC,EAAE,IAAI,WAC7B,oCAAC,MAAD;AAAA,IAAI,KAAK;AAAA,KACP,oCAAC,MAAD;AAAA,IAAM,IAAI;AAAA,KAAK,UAIrB,oCAAC,MAAD;AAAA,IAAM,IAAG;AAAA,IAAM,WAAU;AAAA,KAAS,mBAIlC,OAEN,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,gCAAD;AAAA;AAMD,yBAAyB;AAC9B,MAAI,SAAS;AAEb,UAAQ,OAAO;AAAA,SACR;AAAA,SACA;AACH,aACE,oCAAC,QAAD,MACE,oCAAC,MAAD,MACG,OAAO,QAAO,MAAG,OAAO;AAAA;AAM/B,YAAM,IAAI,MACR,2CAA2C,OAAO;AAAA;AAAA;",
  "names": []
}
