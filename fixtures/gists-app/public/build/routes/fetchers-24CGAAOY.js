import"/build/_shared/chunk-7G6VOURC.js";import{b as d,f,i as c,k as b,l,o as p}from"/build/_shared/chunk-3FICFDS2.js";import"/build/_shared/chunk-JKO55VJE.js";import{b as k,d as x,e,f as i}from"/build/_shared/chunk-AKSB5QXU.js";i();i();var n=k(x());var g="/build/_assets/pending-forms-KHC4FUF6.css";function F(){return[{rel:"stylesheet",href:g}]}function h(){let r=c(),[t]=(0,p.useSearchParams)(),s=l();return e.createElement("div",null,e.createElement("h2",null,"Filter Tasks"),e.createElement(v,null),e.createElement("hr",null),e.createElement("h2",null,"Tasks"),t.has("q")?e.createElement("p",null,"Filtered by search: ",e.createElement("i",null,t.get("q"))):null,r.map(o=>e.createElement(q,{key:o.id,task:o})),e.createElement("p",null,e.createElement(d,{to:"/gists"},"Gists")),e.createElement("h2",null,"Atomic Click This Sucker"),e.createElement("p",null,e.createElement("button",{onClick:()=>s.load("/fetchers")},"Load")))}function v(){let r=b(),[t]=(0,p.useSearchParams)();return e.createElement(f,{method:"get"},e.createElement("input",{type:"text",name:"q",defaultValue:t.get("q")||""})," ",e.createElement("button",{type:"submit"},"Go"),r.type==="loaderSubmission"?e.createElement("p",null,"Searching for: ",r.submission.formData.get("q"),"..."):e.createElement("p",null,"\xA0"))}function q({task:r}){let t=l(),s=t.type==="done"&&!("error"in t.data)?t.data:r;return e.createElement(t.Form,{method:"post"},e.createElement("input",{type:"hidden",name:"id",value:r.id}),e.createElement("input",{type:"hidden",name:"complete",value:String(!r.complete)}),e.createElement("button",{type:"submit","data-status":t.data&&"error"in t.data?"error":r.complete?"complete":"incomplete"},s.complete?"Mark Incomplete":"Mark Complete",t.state==="submitting"?e.createElement(L,{key:t.submission.key,total:r.delay}):null)," ",r.name," ",t.type==="done"&&"error"in t.data?e.createElement("span",{style:{color:"red"}},"Error! ",t.data.error):null)}function L({total:r}){let[t,s]=(0,n.useState)(0),[o,y]=(0,n.useState)(null),a=0;return o&&(a=(t-o)/r*100),(0,n.useEffect)(()=>{if(a>=100)return;let m=requestAnimationFrame(u=>{s(u),o||y(u)});return()=>cancelAnimationFrame(m)},[o,a]),e.createElement("progress",{value:a,max:"100"})}export{h as default,F as links};
